<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Verificador de Sudoku</title>
</head>
<body>

<h2>Verificador de Sudoku</h2>

<label for="sudokuInput">Ingrese la solución de Sudoku (fila por fila, números separados por comas): </label>
<textarea id="sudokuInput" rows="9"></textarea>

<button onclick="verificarSudoku()">Verificar Sudoku</button>

<p id="resultado"></p>

<script>
  function verificarSudoku() {
    const sudokuInput = document.getElementById("sudokuInput").value;
    const sudokuFilas = sudokuInput.trim().split("\n");

    if (sudokuFilas.length !== 9) {
      alert("Ingrese una solución válida de Sudoku (9 filas).");
      return;
    }

    const sudoku = sudokuFilas.map(fila => fila.split(",").map(numero => parseInt(numero.trim())));

    if (!esSudokuValido(sudoku)) {
      mostrarResultado("La solución de Sudoku no es válida.");
    } else {
      mostrarResultado("La solución de Sudoku es válida.");
    }
  }

  function esSudokuValido(sudoku) {
    return filasValidas(sudoku) && columnasValidas(sudoku) && regionesValidas(sudoku);
  }

  function filasValidas(sudoku) {
    for (let fila = 0; fila < 9; fila++) {
      if (!esConjuntoValido(sudoku[fila])) {
        return false;
      }
    }
    return true;
  }

  function columnasValidas(sudoku) {
    for (let columna = 0; columna < 9; columna++) {
      const conjuntoColumna = [];
      for (let fila = 0; fila < 9; fila++) {
        conjuntoColumna.push(sudoku[fila][columna]);
      }
      if (!esConjuntoValido(conjuntoColumna)) {
        return false;
      }
    }
    return true;
  }

  function regionesValidas(sudoku) {
    for (let filaInicio = 0; filaInicio < 9; filaInicio += 3) {
      for (let columnaInicio = 0; columnaInicio < 9; columnaInicio += 3) {
        const conjuntoRegion = [];
        for (let fila = filaInicio; fila < filaInicio + 3; fila++) {
          for (let columna = columnaInicio; columna < columnaInicio + 3; columna++) {
            conjuntoRegion.push(sudoku[fila][columna]);
          }
        }
        if (!esConjuntoValido(conjuntoRegion)) {
          return false;
        }
      }
    }
    return true;
  }

  function esConjuntoValido(conjunto) {
    const numerosUnicos = new Set(conjunto);
    return numerosUnicos.size === 9;
  }

  function mostrarResultado(resultado) {
    const resultadoElement = document.getElementById("resultado");
    resultadoElement.textContent = resultado;
  }
</script>

</body>
</html>